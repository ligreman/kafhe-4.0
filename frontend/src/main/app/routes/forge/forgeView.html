<md-content id="forge" layout-padding flex ng-cloak layout="column">
    <div layout="row" flex="auto">
        <!-- FORJA -->
        <div flex="40" layout="column" class="md-padding">
            <div layout="row" flex="none" layout-align="space-between center" layout-padding>
                <p class="title">Forja</p>

                <p class="stone">{{global.inventory.stones}}
                    <md-icon md-svg-icon="../../../assets/img/rock.svg"></md-icon>
                </p>
            </div>

            <div class="md-whiteframe-1dp" flex>
                <md-tabs md-border-bottom md-dynamic-height md-stretch-tabs="always">

                    <!-- ARMAS -->
                    <md-tab label="Arma">
                        <md-content class="md-padding">
                            <div layout="row" layout-align="space-around center">
                                <md-radio-group class="md-accent nohue" ng-model="forge.weapon.class" layout="row">
                                    <md-radio-button ng-repeat="tipo in selectors.weapon" value="{{tipo}}">
                                        {{ tipo | translate}}
                                    </md-radio-button>
                                </md-radio-group>
                            </div>

                            <div layout="row" layout-align="space-around center">
                                <div flex="50">
                                    <md-input-container class="md-accent nohue">
                                        <label>Tostem</label>
                                        <md-select ng-model="forge.weapon.tostem" class="md-accent nohue">
                                            <md-option value="{{tostem.id}}" class="md-accent nohue"
                                                       ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}">
                                                {{tostem.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                                <div flex="50">
                                    <md-input-container class="md-accent nohue">
                                        <label>Runa</label>
                                        <md-select ng-model="forge.weapon.rune" class="md-accent nohue">
                                            <md-option value="{{rune.id}}" class="md-accent nohue"
                                                       ng-repeat="rune in global.inventory.runes | filter:{in_use:false}">
                                                {{rune.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                            </div>

                            <div layout="row" layout-align="end end">
                                <md-button class="md-raised md-icon-button md-accent nohue"
                                           ng-click="btnForgeWeapon()"
                                           ng-disabled="!forge.weapon.class || !forge.weapon.tostem || !forge.weapon.rune">
                                    <md-icon>gavel</md-icon>
                                </md-button>
                            </div>
                        </md-content>
                    </md-tab>

                    <!-- ARMADURAS -->
                    <md-tab label="Armadura">
                        <md-content class="md-padding">
                            <div layout="row" layout-align="space-around center">
                                <md-radio-group class="md-accent nohue" ng-model="forge.armor.class" layout="row">
                                    <md-radio-button ng-repeat="tipo in selectors.armor" value="{{tipo}}">
                                        {{ tipo | translate}}
                                    </md-radio-button>
                                </md-radio-group>
                            </div>

                            <div layout="row" layout-align="space-around center">
                                <div flex="50">
                                    <md-input-container class="md-accent nohue">
                                        <label>Tostem</label>
                                        <md-select ng-model="forge.armor.tostem" class="md-accent nohue">
                                            <md-option value="{{tostem.id}}" class="md-accent nohue"
                                                       ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}">
                                                {{tostem.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                                <div flex="50">
                                    <md-input-container class="md-accent nohue">
                                        <label>Runa</label>
                                        <md-select ng-model="forge.armor.rune" class="md-accent nohue">
                                            <md-option value="{{rune.id}}" class="md-accent nohue"
                                                       ng-repeat="rune in global.inventory.runes | filter:{in_use:false}">
                                                {{rune.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                            </div>

                            <div layout="row" layout-align="end end">
                                <md-button class="md-raised md-icon-button md-accent nohue"
                                           ng-click="btnForgeArmor()"
                                           ng-disabled="!forge.armor.class || !forge.armor.tostem || !forge.armor.rune">
                                    <md-icon>gavel</md-icon>
                                </md-button>
                            </div>
                        </md-content>
                    </md-tab>
                </md-tabs>
            </div>
        </div>

        <div flex="50">
            <p>Horno de tostems</p>

            <p>
                <label>Tostem 1
                    <select ng-model="furnace.tostem.tostemA">
                        <option ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}"
                                value="{{tostem.id}}">{{tostem.id}}
                        </option>
                    </select>
                </label>
            </p>

            <p>
                <label>Tostem 2
                    <select ng-model="furnace.tostem.tostemB">
                        <option ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}"
                                value="{{tostem.id}}">{{tostem.id}}
                        </option>
                    </select>
                </label>
            </p>
            <p>
                <md-button class="md-raised"
                           ng-click="btnFurnaceTostem()"
                           ng-disabled="(furnace.tostem.tostemA === furnace.tostem.tostemB) || !furnace.tostem.tostemA || !furnace.tostem.tostemB">
                    <md-icon>flight_land</md-icon>
                    {{ 'textCombineTostemsInFurnace' | translate }}
                </md-button>
            </p>

            <p>Horno de runas</p>

            <p>
                <label>Runa 1
                    <select ng-model="furnace.rune.runeA">
                        <option ng-repeat="rune in global.inventory.runes | filter:{in_use:false}"
                                value="{{rune.id}}">{{rune.id}}
                        </option>
                    </select>
                </label>
            </p>

            <p>
                <label>Runa 2
                    <select ng-model="furnace.rune.runeB">
                        <option ng-repeat="rune in global.inventory.runes | filter:{in_use:false}"
                                value="{{rune.id}}">{{rune.id}}
                        </option>
                    </select>
                </label>
            </p>
            <p>
                <md-button class="md-raised"
                           ng-click="btnFurnaceRune()"
                           ng-disabled="(furnace.rune.runeA === furnace.rune.runeB) || !furnace.rune.runeA || !furnace.rune.runeB">
                    <md-icon>flight_land</md-icon>
                    {{ 'textCombineRunesInFurnace' | translate }}
                </md-button>
            </p>
        </div>
    </div>

    <div flex="10">
        <ul>
            <li ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}">
                {{ tostem.id + ' ('+tostem.element+')' }}
            </li>

            <li ng-repeat="rune in global.inventory.runes | filter:{in_use:false}">
                {{ rune.id + ' ('+rune.material+')' }}
            </li>
        </ul>
    </div>

</md-content>
