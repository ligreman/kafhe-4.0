<md-content id="forge" layout-padding flex ng-cloak layout="column">
    <div layout="column" layout-gt-md="row" layout-align="space-around center" flex="auto">

        <!-- FORJA -->
        <div flex="40" layout="column" class="md-padding">
            <div layout="row" flex="none" layout-align="space-between center" layout-padding>
                <p class="title kafhe-accent">Forja</p>

                <p class="stone kafhe-accent">{{global.inventory.stones}}
                    <md-icon md-svg-icon="../../../assets/img/rock.svg"></md-icon>
                    <md-tooltip md-direction="top">Piedras de forja</md-tooltip>
                </p>
            </div>

            <div class="md-whiteframe-1dp" flex>
                <md-tabs md-border-bottom md-dynamic-height md-stretch-tabs="always">

                    <!-- ARMAS -->
                    <md-tab label="Arma">
                        <md-content class="md-padding kafhe-accent-background">
                            <div class="forge-fill" layout="row" layout-align="space-around center">
                                <md-radio-group class="md-accent" ng-model="forge.weapon.class" layout="row">
                                    <md-radio-button ng-repeat="tipo in selectors.weapon" value="{{tipo}}">
                                        {{ tipo | translate}}
                                    </md-radio-button>
                                </md-radio-group>
                            </div>

                            <div layout="row" layout-align="space-around center">
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Tostem</label>
                                        <md-select ng-model="forge.weapon.tostem" class="md-accent">
                                            <md-option value="{{tostem.id}}" class="md-accent"
                                                       ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}">
                                                {{tostem.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Runa</label>
                                        <md-select ng-model="forge.weapon.rune" class="md-accent">
                                            <md-option value="{{rune.id}}" class="md-accent"
                                                       ng-repeat="rune in global.inventory.runes | filter:{in_use:false}">
                                                {{rune.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                            </div>

                            <div layout="row" layout-align="end end">
                                <md-button class="md-raised md-icon-button md-accent"
                                           ng-click="btnForgeWeapon()"
                                           ng-disabled="!forge.weapon.class || !forge.weapon.tostem || !forge.weapon.rune">
                                    <md-icon>gavel</md-icon>
                                    <md-tooltip md-direction="bottom">Forjar arma</md-tooltip>
                                </md-button>
                            </div>
                        </md-content>
                    </md-tab>

                    <!-- ARMADURAS -->
                    <md-tab label="Armadura">
                        <md-content class="md-padding kafhe-accent-background">
                            <div class="forge-fill" layout="row" layout-align="space-around center">
                                <md-radio-group class="md-accent" ng-model="forge.armor.class" layout="row">
                                    <md-radio-button ng-repeat="tipo in selectors.armor" value="{{tipo}}">
                                        {{ tipo | translate}}
                                    </md-radio-button>
                                </md-radio-group>
                            </div>

                            <div layout="row" layout-align="space-around center">
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Tostem</label>
                                        <md-select ng-model="forge.armor.tostem" class="md-accent">
                                            <md-option value="{{tostem.id}}" class="md-accent"
                                                       ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}">
                                                {{tostem.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Runa</label>
                                        <md-select ng-model="forge.armor.rune" class="md-accent">
                                            <md-option value="{{rune.id}}" class="md-accent"
                                                       ng-repeat="rune in global.inventory.runes | filter:{in_use:false}">
                                                {{rune.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                            </div>

                            <div layout="row" layout-align="end end">
                                <md-button class="md-raised md-icon-button md-accent"
                                           ng-click="btnForgeArmor()"
                                           ng-disabled="!forge.armor.class || !forge.armor.tostem || !forge.armor.rune">
                                    <md-icon>gavel</md-icon>
                                    <md-tooltip md-direction="bottom">Forjar armadura</md-tooltip>
                                </md-button>
                            </div>
                        </md-content>
                    </md-tab>
                </md-tabs>
            </div>
        </div>

        <!-- HORNO -->
        <div flex="40" layout="column" class="md-padding">
            <div layout="row" flex="none" layout-align="space-between center" layout-padding>
                <p class="title kafhe-accent">Horno</p>
            </div>

            <div class="md-whiteframe-1dp" flex>
                <md-tabs md-border-bottom md-dynamic-height md-stretch-tabs="always">

                    <!-- TOSTEM -->
                    <md-tab label="Tostem">
                        <md-content class="md-padding kafhe-accent-background">
                            <div class="forge-fill"></div>
                            <div layout="row" layout-align="space-around center">
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Tostem I</label>
                                        <md-select ng-model="furnace.tostem.tostemA" class="md-accent">
                                            <md-option value="{{tostem.id}}" class="md-accent"
                                                       ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}">
                                                {{tostem.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Tostem II</label>
                                        <md-select ng-model="furnace.tostem.tostemB" class="md-accent">
                                            <md-option value="{{tostem.id}}" class="md-accent"
                                                       ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}">
                                                {{tostem.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                            </div>

                            <div layout="row" layout-align="end end">
                                <md-button class="md-raised md-icon-button md-accent"
                                           ng-click="btnFurnaceTostem()"
                                           ng-disabled="(furnace.tostem.tostemA === furnace.tostem.tostemB) || !furnace.tostem.tostemA || !furnace.tostem.tostemB">
                                    <md-icon>whatshot</md-icon>
                                    <md-tooltip md-direction="bottom">Hornear tostem</md-tooltip>
                                </md-button>
                            </div>
                        </md-content>
                    </md-tab>

                    <!-- RUNAS -->
                    <md-tab label="Runa">
                        <md-content class="md-padding kafhe-accent-background">
                            <div class="forge-fill"></div>
                            <div layout="row" layout-align="space-around center">
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Runa I</label>
                                        <md-select ng-model="furnace.rune.runeA" class="md-accent">
                                            <md-option value="{{rune.id}}" class="md-accent"
                                                       ng-repeat="rune in global.inventory.runes | filter:{in_use:false}">
                                                {{rune.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                                <div flex="50">
                                    <md-input-container class="md-accent">
                                        <label>Runas II</label>
                                        <md-select ng-model="furnace.rune.runeB" class="md-accent">
                                            <md-option value="{{rune.id}}" class="md-accent"
                                                       ng-repeat="rune in global.inventory.runes | filter:{in_use:false}">
                                                {{rune.id}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>
                                    <p>Drop zone</p>
                                </div>
                            </div>

                            <div layout="row" layout-align="end end">
                                <md-button class="md-raised md-icon-button md-accent"
                                           ng-click="btnFurnaceRune()"
                                           ng-disabled="(furnace.rune.runeA === furnace.rune.runeB) || !furnace.rune.runeA || !furnace.rune.runeB">
                                    <md-icon>whatshot</md-icon>
                                    <md-tooltip md-direction="bottom">Hornear runa</md-tooltip>
                                </md-button>
                            </div>
                        </md-content>
                    </md-tab>
                </md-tabs>
            </div>
        </div>
    </div>

    <!-- INVENTARIO DE TOSTEMS Y RUNAS -->
    <div flex="10" layout-padding>
        <md-grid-list
                md-cols-sm="2" md-cols-md="6" md-cols-gt-md="10"
                md-row-height-gt-md="1:1" md-row-height="4:3"
                md-gutter="8px" md-gutter-gt-sm="4px">

            <md-grid-tile ng-repeat="tostem in global.inventory.tostems | filter:{in_use:false}"
                          md-rowspan="1"
                          md-colspan="1"
                          md-colspan-sm="1"
                          ng-class="tile.background">
                <md-icon>gavel</md-icon>
                <md-grid-tile-footer><h3>{{tostem.element}}</h3></md-grid-tile-footer>
            </md-grid-tile>

            <md-grid-tile ng-repeat="rune in global.inventory.runes | filter:{in_use:false}"
                          md-rowspan="1"
                          md-colspan="1"
                          md-colspan-sm="1"
                          ng-class="tile.background">
                <md-icon md-svg-icon="gavel"></md-icon>
                <md-grid-tile-footer><h3>{{rune.material}}</h3></md-grid-tile-footer>
            </md-grid-tile>
        </md-grid-list>
    </div>

</md-content>
